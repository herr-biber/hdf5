
 
                       HDF5 Release 1.2.2


INTRODUCTION

This document describes the differences between HDF5-1.2.1 and 
HDF5-1.2.2, and contains information on the platforms where HDF5-1.2.2
was tested and known problems in HDF5-1.2.2. 

The HDF5 documentation can be found on the NCSA ftp server 
(ftp.ncsa.uiuc.edu) in the directory:

     /HDF/HDF5/docs/

For more information look at the HDF5 home page at:
   
    http://hdf.ncsa.uiuc.edu/HDF5/

If you have any questions or comments, please send them to:

    hdfhelp@ncsa.uiuc.edu


CONTENTS

- Features Added since HDF5-1.2.1 
- Bug Fixes since HDF5-1.2.1
- Known Problems
- Platforms Tested


Features Added since HDF5-1.2.1
===============================
   * Added internal free-lists to reduce memory required by the library and
     H5garbage_collect API function.
   * h5dump displays opaque and bitfield types.
   * New features added to snapshots.  Use 'snapshot help' to see a
     complete list of features.
   * Improved configure to detect if MPIO routines are available when
     parallel mode is requested.

Bug Fixes since HDF5-1.2.1
==========================
   * h5dump correctly displays compound datatypes, including simple and
     nested compound types.
   * h5dump correctly displays the committed copy of predefined types.
   * Corrected an error in h5toh4 which did not convert the 32-bit
     int from HDF5 to HDF4 correctly for the T3E platform.
   * Corrected a floating point number conversion error for the
     Cray J90 platform.  The error did not convert the value 0.0
     correctly.
   * Fixed error in H5Giterate which was not updating the "index" parameter
     correctly.
   * Fixed error in hyperslab iteration which was not walking through the
     correct sequence of array elements if hyperslabs were staggered in a
     certain pattern.
   * Fixed several other problems in hyperslab iteration code.
   * Fixed another H5Giterate bug which caused groups with large numbers
     of objects in them to misbehave when the callback function returned
     non-zero values.
   * Changed return type of H5Aiterate and H5A_operator_t typedef to be
     herr_t, to align them with the dataset and group iterator functions.
   * Changed H5Screate_simple and H5Sset_extent_simple to not allow dimensions
     of size 0 without the same dimension being unlimited.
   * Improved metadata hashing & caching algorithms to avoid
     many hash flushes and also removed some redundant I/O when moving metadata
     blocks in the file.
   * The libhdf5.settings file shows the correct machine byte-sex.
   * The "struct(opt)" type conversion function which gets invoked for
     certain compound datatype conversions was fixed for nested compound
     types. This required a small change in the datatype conversion
     function API.

Known Problems
==============

o SunOS 5.6 with C WorkShop Compilers 4.2:  hyperslab selections will 
  fail if library is compiled using optimization of any level.
o TFLOPS: dsets test fails if compiled with optimization turned on.
o J90: tools fail to dispay data for the datasets with a compound datatype. 

Platforms Tested
================

  AIX 4.3.3 (IBM SP)            3.6.6                               | binaries
                                mpicc using mpich 1.1.2             | are not
                                mpicc_r using IBM MPI-IO prototype  | available
  AIX 4.3.2.0 (IBM SP)          xlc 5.0.1.0
  Cray J90 10.0.0.7             cc 6.3.0.2
  Cray T3E 2.0.5.29             cc 6.3.0.2
                                mpt.1.3
  FreeBSD 4.0                   gcc 2.95.2
  HP-UX B.10.20                 HP C  HP92453-01 A.10.32
  HP-UX B.11.00                 HP92453-01 A.11.00.13 HP C Compiler 
                                (static library only, h5toh4 tool is not available) 
  IRIX 6.5                      MIPSpro cc 7.30
  IRIX64 6.5 (64 & n32)         MIPSpro cc 7.3.1m
                                mpt.1.4

  Linux 2.2.10 SMP              gcc 2.95.1 
                                mpicc(gcc-2.95.1)
                                gcc (egcs-2.91.66)
                                mpicc (egcs-2.91.66)
  Linux 2.2.16 (RedHat 6.2)     gcc 2.95.2

  OSF1 V4.0                     DEC-V5.2-040
  SunOS 5.6                     cc WorkShop Compilers 5.0 no optimization
  SunOS 5.7                     cc WorkShop Compilers 5.0
  SolarisX86 SunOS 5.5.1        gcc version 2.7.2 with --disable-hsizet
  TFLOPS 3.2.1                  pgcc Rel 3.1-3i
                                mpich-1.1.2 with local changes
  Windows NT4.0 sp5             MSVC++ 6.0
  Windows 98                    MSVC++ 6.0
  Windows 2000                  MSVC++ 6.0



